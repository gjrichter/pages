<!DOCTYPE html>
<html>
  
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="ixmaps embed example">
	<meta name="author" content="guenter richter">
	<link rel="shortcut icon" href="https://gjrichter.github.io/ixmaps/ui/resources/images/ixmaps_logo.png">
 
	<title>Created by Composer</title>
</head>
 
<body style="margin:0;padding:0;">
 
	<!-- here goes the map -->
	<div id="map-div"></div>
 
	<!-- include the ixmaps API -->
	<script src="https://gjrichter.github.io/ixmaps_flat/ui/js/htmlgui_flat.js"></script>
 
	<script type="text/javascript" charset="utf-8">
 
		// create and embed the map
		// ! reference to "map-div", the hosting html div

		ixmaps.Map("map-div", {
			mapService: "leaflet_vt",
			mapType: "white",
			map: "../../maps/svg/maps/generic/mercator.svg",
			name: "map_1",
			mode: "pan",
			legend: "true",
			tools: "true",
			search: "Europe",
			about: "test"
		},
		map => map
		.options({
			featurescaling: "true",
			objectscaling: "true",
			normalSizeScale: "20000000",
			flushChartDraw: "1000000",
			flushPaintShape: "1000000",
			basemapopacity: "0.5",
			worksilent: "false",
			loadsilent: "false",
			hideOnPan:  "false",
			freezeOnPan:"false",
		})
		.attribution("")
		.view({
			"center": {
				"lat": "0",
				"lng": "0"
				},
			"zoom": "1.8"
			})
		.layer(ixmaps.layer("world_grid", layer => layer
			.data({
				"url": "https://s3.tebi.io/geometries/world_graticules/ne_110m_graticules_5.topojson",
				"type": "topojson",
				"name": "DBTABLE7350842",
				"cache": "true"
				})
			.binding({
				"geo": "geometry",
				"value": "$item$"
				})
			.type("FEATURE")
			.style({
				"colorscheme": [
					"#ccddff"],
				"fillopacity": "1",
				"shadow": "false",
				"visible": "true",
				"units": "",
				"scale": "1",
				"sizepow": "2",
				"linecolor": [
					"#ccddff"],
				"linewidth": "1",
				"valuescale": "1"
				})
			.meta({
				"title": "world grid",
				"snippet": "",
				"description": "",
				"name": "undefined",
				"tooltip": ""
				})
		))
		.layer(ixmaps.layer("global_power_plant_database", layer => layer
			.data({
				"url": "https://raw.githubusercontent.com/wri/global-power-plant-database/master/output_database/global_power_plant_database.csv",
				"type": "csv",
				"name": "data_1768832942107",
				"cache": "true"
				})
			.filter("WHERE \"primary_fuel\" = \"Coal\"")
			.binding({
				"geo": "latitude|longitude",
				"value": "primary_fuel",
				"size": "capacity_mw"
				})
			.type("CHART|BUBBLE|GLOW|SIZE|RAW|CATEGORICAL")
			.style({
				"colorscheme": [
					"#228B22",
					"#8B7355",
					"#2F1B14",
					"#0066CC",
					"#FF6347",
					"#FFD700",
					"#87CEEB",
					"#FF4500",
					"#00AA00",
					"#0080FF",
					"#1C1C1C",
					"#696969",
					"#808080",
					"#4B3621",
					"#FFA500"],
				"fillopacity": "0.7",
				"shadow": "false",
				"visible": "true",
				"showdata": "true",
				"values": [
					"Biomass",
					"Waste",
					"Oil",
					"Hydro",
					"Gas",
					"Solar",
					"Wind",
					"Geothermal",
					"Storage",
					"Wave and Tidal",
					"Coal",
					"Cogeneration",
					"Other",
					"Petcoke",
					"Nuclear"],
				"label": [
					"Biomass",
					"Waste",
					"Oil",
					"Hydro",
					"Gas",
					"Solar",
					"Wind",
					"Geothermal",
					"Storage",
					"Wave and Tidal",
					"Coal",
					"Cogeneration",
					"Other",
					"Petcoke",
					"Nuclear"],
				"units": "",
				"scale": "0.2",
				"sizepow": "2",
				"valuescale": "1"
				})
			.meta({
				"title": "global_power_plant_database",
				"snippet": "",
				"description": "",
				"name": "global_power_plant_database",
				"tooltip": "{{theme.item.chart}}{{theme.item.data}}"
				})
		))
		.layer(ixmaps.layer("CNTR_RG_10M_2020_4326", layer => layer
			.data({
				"url": "https://s3.eu-central-1.amazonaws.com/maps.ixmaps.com/topojson/CNTR_RG_10M_2020_4326.json",
				"type": "topojson",
				"name": "data_1768833224179",
				"cache": "true"
				})
			.binding({
				"geo": "geometry",
				"value": "$item$"
				})
			.type("FEATURE")
			.style({
				"colorscheme": [
					"#aaddaa"],
				"fillopacity": "1",
				"shadow": "false",
				"visible": "true",
				"showdata": "true",
				"units": "",
				"scale": "1",
				"sizepow": "2",
				"linecolor": [
					"white"],
				"linewidth": "0.5",
				"valuescale": "1"
				})
			.meta({
				"title": "CNTR_RG_10M_2020_4326",
				"snippet": "",
				"description": "",
				"name": "CNTR_RG_10M_2020_4326",
				"tooltip": "{{theme.item.chart}}{{theme.item.data}}"
				})
		))
	);
	</script>
</body>
</html>
